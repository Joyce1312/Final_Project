{% extends "admin_layout.html" %}

{% block title %}
    Admin Dashboard
{% endblock %}

{% block body %}
    <div class="content">
        <div class="user">
            <i class="bi bi-person"></i>
            <div>
                <h1>{{ total_users }}</h1>
                <p>Total Users</p>
            </div>
        </div>

        <div class="order">
            <i class="bi bi-cart"></i>
            <div>
                <h1>{{ total_orders }}</h1>
                <p>Total Orders</p>
            </div>
        </div>

        <div class="shop">
            <i class="bi bi-shop"></i>
            <div>
                <h1>{{ total_products_sold }}</h1>
                <p>Total Sold</p>
            </div>
        </div>

        <div class="money">
            <i class="bi bi-cash"></i>
            <div>
                <h1>${{ "%.2f" | format(total_revenue) }}</h1>
                <p>Revenue</p>
            </div>
        </div>
    </div>
    <div class="chart">
        <table width="100%">
            <thead>
                <tr>
                    <td>Name</td>
                    <td>Email</td>
                </tr>
            </thead>
            <tbody>
                {% for full_name, email in admin_data %}
                <tr>
                    <td>{{ full_name | title}}</td>
                    <td>{{ email }}</td>  
                </tr>
                {% endfor %}
                
            </tbody>
        </table>
    </div>

    <!-- Form to create a new admin -->
    <div class="create-admin-form">
        <h2>Create New Admin Account</h2>
        <form action="/admin/create_admin" method="POST">
            <div>
                <label for="first">First Name</label>
                <input type="text" name="first" required>
            </div>
            <div>
                <label for="last">Last Name</label>
                <input type="text" name="last" required>
            </div>
            <div>
                <label for="email">Email</label>
                <input type="email" id="email" name="email" required>
            </div>
            <div>
                <label for="password">Password</label>
                <input type="password" id="password" name="password" required>
            </div>
            <button type="submit">Create Admin</button>
        </form>
    </div>
    
{% endblock %}